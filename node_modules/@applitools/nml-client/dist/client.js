"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.makeNMLClient = void 0;
const logger_1 = require("@applitools/logger");
const requests_1 = require("./server/requests");
const take_snapshots_1 = require("./take-snapshots");
const take_screenshot_1 = require("./take-screenshot");
function makeNMLClient({ config, logger }) {
    var _a;
    logger = (_a = logger === null || logger === void 0 ? void 0 : logger.extend({ label: 'nml client' })) !== null && _a !== void 0 ? _a : (0, logger_1.makeLogger)({ label: 'nml client' });
    const requests = (0, requests_1.makeNMLRequests)({ config, logger });
    return {
        takeScreenshot: (0, take_screenshot_1.makeTakeScreenshot)({ requests, logger }),
        takeSnapshots: (0, take_snapshots_1.makeTakeSnapshots)({ requests, logger }),
    };
}
exports.makeNMLClient = makeNMLClient;
