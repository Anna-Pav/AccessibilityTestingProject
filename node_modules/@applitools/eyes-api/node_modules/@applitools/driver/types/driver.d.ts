/// <reference types="node" />
import type { Size, Region } from '@applitools/utils';
import type { ScreenOrientation, Cookie } from './types';
import { type Selector } from './selector';
import { type SpecType, type SpecDriver, type WaitOptions } from './spec-driver';
import { type Element } from './element';
import { Context, type ContextReference } from './context';
import { type Logger } from '@applitools/logger';
import { HelperIOS } from './helper-ios';
import { HelperAndroid } from './helper-android';
type DriverOptions<T extends SpecType> = {
    spec: SpecDriver<T>;
    driver: T['driver'];
    logger?: Logger;
    customConfig?: {
        useCeilForViewportSize?: boolean;
    };
};
export declare class Driver<T extends SpecType> {
    private _target;
    private _mainContext;
    private _currentContext;
    private _driverInfo;
    private _helper?;
    private _state;
    private _logger;
    private _customConfig;
    protected readonly _spec: SpecDriver<T>;
    constructor(options: DriverOptions<T>);
    get target(): T['driver'];
    get currentContext(): Context<T>;
    get mainContext(): Context<T>;
    get features(): {
        shadowSelector?: boolean | undefined;
        allCookies?: boolean | undefined;
        canExecuteOnlyFunctionScripts?: boolean | undefined;
    } | undefined;
    get deviceName(): string | undefined;
    get platformName(): string | undefined;
    get platformVersion(): string | number | undefined;
    get browserName(): string | undefined;
    get browserVersion(): string | number | undefined;
    get userAgent(): string | undefined;
    get orientation(): ScreenOrientation | undefined;
    get pixelRatio(): number;
    get viewportScale(): number;
    get statusBarSize(): number | undefined;
    get navigationBarSize(): number | undefined;
    get isNative(): boolean;
    get isWebView(): boolean;
    get isWeb(): boolean;
    get isEmulation(): boolean;
    get isMobile(): boolean;
    get isIOS(): boolean;
    get isAndroid(): boolean;
    get isMac(): boolean;
    get isWindows(): boolean;
    get isChromium(): boolean;
    get isIE(): boolean;
    get isEdgeLegacy(): boolean;
    get isECClient(): boolean;
    get isEC(): boolean;
    get sessionId(): string | undefined;
    get remoteHostname(): string | undefined;
    updateCurrentContext(context: Context<T>): void;
    init(): Promise<this>;
    getHelper(): Promise<HelperAndroid<T> | HelperIOS<T> | null>;
    extractBrokerUrl(): Promise<string | null>;
    switchWorld(options?: {
        id?: string;
        restoreState?: boolean;
        goHome?: boolean;
    }): Promise<void>;
    getWorlds(): Promise<string[] | null>;
    getCurrentWorld(): Promise<string | null>;
    getSessionMetadata(): Promise<any>;
    refreshContexts(): Promise<Context<T>>;
    switchTo(context: Context<T>): Promise<Context<T>>;
    switchToMainContext(): Promise<Context<T>>;
    switchToParentContext(elevation?: number): Promise<Context<T>>;
    switchToChildContext(...references: ContextReference<T>[]): Promise<Context<T>>;
    normalizeRegion(region: Region): Promise<Region>;
    getRegionInViewport(context: Context<T>, region: Region): Promise<Region>;
    element(selector: Selector<T>): Promise<Element<T> | null>;
    elements(selector: Selector<T>): Promise<Element<T>[]>;
    waitFor(selector: Selector<T>, options?: WaitOptions): Promise<Element<T> | null>;
    execute(script: ((arg: any) => any) | string, arg?: any): Promise<any>;
    takeScreenshot(): Promise<Buffer>;
    getViewportRegion(): Promise<Region>;
    getViewportSize(): Promise<Size>;
    setViewportSize(size: Size): Promise<void>;
    getDisplaySize(): Promise<Size>;
    getOrientation(): Promise<ScreenOrientation>;
    setOrientation(orientation: 'portrait' | 'landscape'): Promise<void>;
    getCookies(): Promise<Cookie[]>;
    getTitle(): Promise<string>;
    getUrl(): Promise<string>;
    visit(url: string): Promise<void>;
}
export declare function isDriver<T extends SpecType>(driver: any, spec?: SpecDriver<T>): driver is Driver<T> | T['driver'];
export declare function makeDriver<T extends SpecType>(options: {
    driver: Driver<T> | T['driver'];
    spec?: SpecDriver<T>;
    logger?: Logger;
    customConfig?: {
        useCeilForViewportSize?: boolean;
    };
}): Promise<Driver<T>>;
export {};
