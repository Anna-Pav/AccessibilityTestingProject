'use strict';
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const pluginExport_1 = __importDefault(require("./pluginExport"));
const config_1 = __importDefault(require("./config"));
const server_1 = __importDefault(require("./server"));
const logger_1 = require("@applitools/logger");
const { config, eyesConfig } = (0, config_1.default)();
const logger = (0, logger_1.makeLogger)({ level: config.showLogs ? 'info' : 'silent', label: 'eyes' });
const startServer = (0, server_1.default)({ logger, eyesConfig });
const pluginExport = (0, pluginExport_1.default)({
    startServer,
    eyesConfig: Object.assign({}, eyesConfig, { appliConfFile: config }),
});
exports.default = pluginExport;
