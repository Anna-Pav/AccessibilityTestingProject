"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.makeGetEyesResults = void 0;
const test_error_1 = require("./errors/test-error");
function makeGetEyesResults({ eyes, logger: defaultLogger, }) {
    return async function getEyesResults({ settings, logger = defaultLogger, } = {}) {
        const typedEyes = await eyes.getTypedEyes({ logger });
        const results = await typedEyes.getResults({ settings, logger });
        if (settings === null || settings === void 0 ? void 0 : settings.throwErr) {
            results.forEach(result => {
                if (result.status !== 'Passed')
                    throw new test_error_1.TestError(result);
            });
        }
        return results;
    };
}
exports.makeGetEyesResults = makeGetEyesResults;
